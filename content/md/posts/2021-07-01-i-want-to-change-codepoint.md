{:title "Terminal-Icons のアイコングリフのコードポイントを変えたい"
:layout :post
:tags ["font","powershell"]}

2021 年 5 月から、法律による上限スレスレの時間外＆休日労働だったため、すっかりブログを認めるのを忘れていた。
なのでこの記事は 6 月分のつもりで書いている(言い訳)。

---

さて、先月に現時点自分史上最高の Migu フォントを生み出したわけだが、実用において完全に気になるポイントがないわけではない。
その実、前から抱えていた幾つかの課題がそれなのだけど。

fontmerger を使って日本語フォントにパッチする場合、漢字が割り当てられているコードポイントにアイコングリフが割り当てられないように、コードポイントをずらす機能がついている。
当然の如く、わたしの Migu を作るためのパッチでもコードポイントをずらしている。

するとですね、[devblackops/Terminal-Icons](https://github.com/devblackops/Terminal-Icons/)は [https://www.nerdfonts.com/cheat-sheet から自動生成した標準のコードポイント](https://github.com/devblackops/Terminal-Icons/blob/eeb5ce85d4a1882b5155bd6f06859a4b6f4b44d8/psakeFile.ps1#L28) で以てフィアルやディレクトリのアイコンを表示するので...わたしの Migu だと豆腐になるアイコンがちらほらいるわけですね。

![豆腐アイコン](/img/2021-07-01-terminal/icon-tofu.png)

偶然にも、「栗」がアイコンに割り当てられてしまっているところもあったり。この動機づけはシンクロニシティやろ！

![停止は栗](/img/2021-07-01-terminal/stop-is-chestnut.png)

前まではアイコンがぶっ壊れ気味の Migu を使っていたので、割れ窓理論的に気にならなかった豆腐が、最近妙に気になってきたわけだ。

Terminal-Icons のドキュメントやコードを見ても、先述の自動生成したコードポイント表([Terminal-Icons/glyphs.ps1](https://github.com/devblackops/Terminal-Icons/blob/main/Terminal-Icons/Data/glyphs.ps1))を差し替えたりできるような仕組みはないようなので、一旦はこのスクリプト自体にパッチを当てる方向で考えよかなと考え中。

4000 行近くあるとはいえ、その中から普段使うアイコンに絞れば数は少ないと思うから、とりま手でﾎﾟﾘﾎﾟﾘコードポイントを変えようかなと(さっきのキャプチャだけでも 3 つ豆腐並んでてヒット率高すぎ感はあるが)。

とはいえ英語圏じゃない人のフォントはわたしと同じ問題を抱えてるかもしれないので、なんかグリフのコードポイント変えさせてくれや～、という機能をプルリしてもいいかもしれない。
